{"title":"Elasticsearch的安装与使用","uid":"26ec55026225b6b5ca6c99aa5ca72e1f","slug":"elasticsearch","date":"2020-07-23T02:39:36.000Z","updated":"2023-03-04T23:57:05.691Z","comments":true,"path":"api/articles/elasticsearch.json","keywords":null,"cover":[],"content":"<h1 style=\"text-align:center\">Elasticsearch的安装与使用</h1>\n\n<span id=\"more\"></span>\n\n<hr>\n<h1 id=\"1-Elasticsearch\"><a href=\"#1-Elasticsearch\" class=\"headerlink\" title=\"1.  Elasticsearch\"></a>1.  Elasticsearch</h1><h2 id=\"1-1-elasticsearch（默认端口号9200）\"><a href=\"#1-1-elasticsearch（默认端口号9200）\" class=\"headerlink\" title=\"1.1 elasticsearch（默认端口号9200）\"></a>1.1 elasticsearch（默认端口号9200）</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><h3 id=\"官方下载地址：链接\"><a href=\"#官方下载地址：链接\" class=\"headerlink\" title=\"官方下载地址：链接\"></a>官方下载地址：<a href=\"https://www.elastic.co/cn/downloads/elasticsearch\">链接</a></h3></blockquote>\n<hr>\n<p><img src=\"/post/elasticsearch/elasticsearch%5C1.png\"></p>\n<hr>\n<h2 id=\"1-2-ik分词器-pinyin分词器配置\"><a href=\"#1-2-ik分词器-pinyin分词器配置\" class=\"headerlink\" title=\"1.2 ik分词器 pinyin分词器配置\"></a>1.2 ik分词器 pinyin分词器配置</h2><blockquote>\n<h3 id=\"链接：-ik分词器-pinyin分词器1-2-1-配置\"><a href=\"#链接：-ik分词器-pinyin分词器1-2-1-配置\" class=\"headerlink\" title=\"链接： ik分词器 pinyin分词器1.2.1 配置\"></a>链接： <a href=\"https://github.com/medcl/elasticsearch-analysis-pinyin/releases/tag/v7.8.0\">ik分词器</a> <a href=\"https://github.com/medcl/elasticsearch-analysis-pinyin/releases/tag/v7.8.0\">pinyin分词器</a>1.2.1 配置</h3></blockquote>\n<h3 id=\"1-2-1-配置\"><a href=\"#1-2-1-配置\" class=\"headerlink\" title=\"1.2.1 配置\"></a>1.2.1 配置</h3><hr>\n<p><img src=\"/post/elasticsearch/fc1.png\"></p>\n<p><img src=\"/post/elasticsearch/elasticsearch%5Cfc2.png\"><br><font color=\"red\">配置后需重启es生效</font></p>\n<hr>\n<blockquote>\n<h3 id=\"1-2-2-ik配置停止词-扩展词-dic\"><a href=\"#1-2-2-ik配置停止词-扩展词-dic\" class=\"headerlink\" title=\"1.2.2 ik配置停止词 扩展词 dic\"></a>1.2.2 ik配置停止词 扩展词 <a href=\"https://note.youdao.com/web/#/file/EA5B309FC827451D8A4C193D82F3549A/note/BD48640628CB4087ABA0C378AC9A2DB2/?search=solr\">dic</a></h3></blockquote>\n<hr>\n<p><img src=\"/post/elasticsearch/elasticsearch%5Cfc3.png\"></p>\n<p><img src=\"/post/elasticsearch/elasticsearch%5Cfc4.png\"></p>\n<p><img src=\"/post/elasticsearch/elasticsearch%5Cfc5.png\"></p>\n<hr>\n<h2 id=\"1-2-Kibana-安装（默认端口号5601）\"><a href=\"#1-2-Kibana-安装（默认端口号5601）\" class=\"headerlink\" title=\"1.2 Kibana 安装（默认端口号5601）\"></a>1.2 <a href=\"https://www.elastic.co/cn/kibana\">Kibana</a> 安装（默认端口号5601）</h2><blockquote>\n<p>Kibana 是一个免费且开放的用户界面，能够让您对 Elasticsearch 数据进行可视化，并让您在 Elastic Stack 中进行导航。您可以进行各种操作，从跟踪查询负载，到理解请求如何流经您的整个应用，都能轻松完成。</p></blockquote>\n<p><a href=\"https://www.elastic.co/cn/downloads/kibana\">下载链接</a></p>\n<hr>\n<p> <img src=\"/post/elasticsearch/elasticsearch%5Ck1.png\"></p>\n<hr>\n<hr>\n<h2 id=\"1-3-elasticsearch配合mysql实现全文搜索\"><a href=\"#1-3-elasticsearch配合mysql实现全文搜索\" class=\"headerlink\" title=\"1.3 elasticsearch配合mysql实现全文搜索\"></a>1.3 <a href=\"https://www.cnblogs.com/eleven24/p/7733052.html\">elasticsearch配合mysql实现全文搜索</a></h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><h3 id=\"1-3-1-下载安装logstash\"><a href=\"#1-3-1-下载安装logstash\" class=\"headerlink\" title=\"1.3.1 下载安装logstash\"></a>1.3.1 <a href=\"https://www.elastic.co/products/logstash\">下载安装logstash</a></h3></blockquote>\n<hr>\n<p><img src=\"/post/elasticsearch/L1.png\"></p>\n<hr>\n<blockquote>\n<p>先解压下载的压缩包然后安装插件  </p>\n<p>命令分别是(在Logstash主目录下运行)：</p>\n<p>logstash-plugin install logstash-input-jdbc</p>\n<p>logstash-plugin install logstash-output-elasticsearch</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><h3 id=\"1-3-2-下载mysql驱动\"><a href=\"#1-3-2-下载mysql驱动\" class=\"headerlink\" title=\"1.3.2 下载mysql驱动\"></a>1.3.2 <a href=\"https://dev.mysql.com/downloads/connector/j/5.1.html\">下载mysql驱动</a></h3></blockquote>\n<p><img src=\"/post/elasticsearch/L2.png\"></p>\n<p><img src=\"/post/elasticsearch/L3-7938837.png\"></p>\n<hr>\n<blockquote>\n<h3 id=\"1-3-3新建添加配置文件\"><a href=\"#1-3-3新建添加配置文件\" class=\"headerlink\" title=\"1.3.3新建添加配置文件\"></a>1.3.3新建添加配置文件</h3></blockquote>\n<h4 id=\"1-新建配置文件-mysqltoes-conf\"><a href=\"#1-新建配置文件-mysqltoes-conf\" class=\"headerlink\" title=\"1. 新建配置文件 mysqltoes.conf\"></a>1. 新建配置文件 mysqltoes.conf</h4><h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2.\"></a>2.</h4><pre class=\"line-numbers language-basic\" data-language=\"basic\"><code class=\"language-basic\">input &#123;\n  jdbc &#123;\n    jdbc_driver_library &#x3D;&gt; &quot;F:\\ES\\ES6.5.4\\logstash-6.5.4\\bin\\mysql-connector-java-5.1.49-bin.jar&quot;\n    jdbc_driver_class &#x3D;&gt; &quot;com.mysql.jdbc.Driver&quot;\n    jdbc_connection_string &#x3D;&gt; &quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;cms?characterEncoding&#x3D;UTF-8&amp;useSSL&#x3D;false&quot;\n    jdbc_user &#x3D;&gt; &quot;root&quot;\n    jdbc_password &#x3D;&gt; &quot;123456&quot;\n    statement &#x3D;&gt; &quot;SELECT * FROM news_content&quot;\n\tuse_column_value &#x3D;&gt; true\n\ttracking_column &#x3D;&gt; &quot;updatetime&quot;\n    jdbc_paging_enabled &#x3D;&gt; &quot;true&quot;\n    jdbc_page_size &#x3D;&gt; &quot;50000&quot;\n    schedule &#x3D;&gt; &quot;* * * * *&quot;\n  &#125;\n&#125;\n \nfilter &#123;\n\n date &#123;\n    # 有多个项的话能匹配多个不同的格式\n    match &#x3D;&gt; [ &quot;logdate&quot;, &quot;MMM dd yyyy HH:mm:ss&quot;,&quot;ISO8601&quot; ]\n    target &#x3D;&gt; &quot;fieldName1&quot;\n    timezone &#x3D;&gt; &quot;Asia&#x2F;Shanghai&quot;\n  &#125;\n  \n   json &#123;\n        source &#x3D;&gt; &quot;message&quot;\n        remove_field &#x3D;&gt; [&quot;message&quot;]\n    &#125;\n&#125;\n \noutput &#123;\n  stdout &#123;\n    codec &#x3D;&gt; rubydebug\n  &#125;\n  elasticsearch &#123;\n    hosts &#x3D;&gt; &quot;localhost:9200&quot;\n    index &#x3D;&gt; &quot;news_content&quot;\n\t #指定类型，任意\n        document_type &#x3D;&gt; &quot;doc&quot;\n        document_id &#x3D;&gt; &quot;%&#123;id&#125;&quot;\n  &#125;       \n&#125;</code></pre>\n\n<blockquote>\n<p>input 配置参考：<a href=\"https://www.elastic.co/guide/en/logstash/current/input-plugins.html\">https://www.elastic.co/guide/en/logstash/current/input-plugins.html</a><br>        output 配置参考：<a href=\"https://www.elastic.co/guide/en/logstash/current/output-plugins.html\">https://www.elastic.co/guide/en/logstash/current/output-plugins.html</a><br>        filter 配置参考：<a href=\"https://www.elastic.co/guide/en/logstash/6.4/filter-plugins.html\">https://www.elastic.co/guide/en/logstash/6.4/filter-plugins.html</a><br>        Logstash Reference：<a href=\"https://www.elastic.co/guide/en/logstash/6.4/index.html\">https://www.elastic.co/guide/en/logstash/6.4/index.html</a></p></blockquote>\n<h4 id=\"3-启动logstash-（-logstash-f-mysqltoes-conf-）\"><a href=\"#3-启动logstash-（-logstash-f-mysqltoes-conf-）\" class=\"headerlink\" title=\"3. 启动logstash （ logstash -f mysqltoes.conf ）\"></a>3. 启动logstash （ logstash -f mysqltoes.conf ）</h4><hr>\n<!--文档查询各字段解释-->\n\n<p><img src=\"/post/elasticsearch/L4.png\"></p>\n<pre class=\"line-numbers language-basic\" data-language=\"basic\"><code class=\"language-basic\">index - 索引名\nq - 查询指定匹配 使用Lucene查询语法\nfrom_ - 查询起始点 默认0\ndoc_type - 文档类型\nsize - 指定查询条数 默认10\nfield - 指定字段 逗号分隔\nsort - 排序 字段：asc&#x2F;desc\nbody - 使用Query DSL\nscroll - 滚动查询\ntook是耗时，毫秒单位\ntime_out 是否超时\ntotal 分片\nhits下面\ntotal：结果总数\nmax_score：相似度\nid：文档唯一标识</code></pre>\n\n<h2 id=\"2、Elasticsearch项目windows服务注册\"><a href=\"#2、Elasticsearch项目windows服务注册\" class=\"headerlink\" title=\"2、Elasticsearch项目windows服务注册\"></a>2、Elasticsearch项目windows服务注册</h2><blockquote>\n<h3 id=\"2-1-Elasticsearch-注册服务命令：service-install-Elasticsearch\"><a href=\"#2-1-Elasticsearch-注册服务命令：service-install-Elasticsearch\" class=\"headerlink\" title=\"2.1 Elasticsearch 注册服务命令：service install Elasticsearch\"></a>2.1 Elasticsearch 注册服务命令：service install Elasticsearch</h3><h3 id=\"2-2-kibana-注册服务命令：nssm-exe-install-kibana-bat\"><a href=\"#2-2-kibana-注册服务命令：nssm-exe-install-kibana-bat\" class=\"headerlink\" title=\"2.2 kibana 注册服务命令：nssm.exe install kibana.bat\"></a>2.2 kibana 注册服务命令：nssm.exe install kibana.bat</h3><h3 id=\"2-3-logtash-注册服务命令：nssm-exe-install-logstash-“-logstash-bin-logstash-bat”-“agent-f-logstash-bin-mysqltoes-conf”\"><a href=\"#2-3-logtash-注册服务命令：nssm-exe-install-logstash-“-logstash-bin-logstash-bat”-“agent-f-logstash-bin-mysqltoes-conf”\" class=\"headerlink\" title=\"2.3 logtash 注册服务命令：nssm.exe install logstash “ logstash\\bin\\logstash.bat” “agent -f logstash\\bin\\mysqltoes.conf”\"></a>2.3 logtash 注册服务命令：nssm.exe install logstash “ logstash\\bin\\logstash.bat” “agent -f logstash\\bin\\mysqltoes.conf”</h3></blockquote>\n","text":"Elasticsearch的安装与使用 1. Elasticsearch1.1 elasticsearch（默认端口号9200） 官方下载地址：链接 1.2 ik分词器 pinyin分词器配置 链接： ik分词器 pinyin分词器1.2.1 配置 1.2.1 配置 配置后需重启...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"java","slug":"java","count":3,"path":"api/categories/java.json"}],"tags":[{"name":"分布式","slug":"分布式","count":1,"path":"api/tags/分布式.json"},{"name":"搜索服务","slug":"搜索服务","count":1,"path":"api/tags/搜索服务.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\">Elasticsearch的安装与使用</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-Elasticsearch\"><span class=\"toc-text\">1.  Elasticsearch</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-1-elasticsearch%EF%BC%88%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3%E5%8F%B79200%EF%BC%89\"><span class=\"toc-text\">1.1 elasticsearch（默认端口号9200）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%98%E6%96%B9%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9A%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">官方下载地址：链接</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-2-ik%E5%88%86%E8%AF%8D%E5%99%A8-pinyin%E5%88%86%E8%AF%8D%E5%99%A8%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">1.2 ik分词器 pinyin分词器配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%93%BE%E6%8E%A5%EF%BC%9A-ik%E5%88%86%E8%AF%8D%E5%99%A8-pinyin%E5%88%86%E8%AF%8D%E5%99%A81-2-1-%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">链接： ik分词器 pinyin分词器1.2.1 配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-2-1-%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">1.2.1 配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-2-2-ik%E9%85%8D%E7%BD%AE%E5%81%9C%E6%AD%A2%E8%AF%8D-%E6%89%A9%E5%B1%95%E8%AF%8D-dic\"><span class=\"toc-text\">1.2.2 ik配置停止词 扩展词 dic</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-2-Kibana-%E5%AE%89%E8%A3%85%EF%BC%88%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3%E5%8F%B75601%EF%BC%89\"><span class=\"toc-text\">1.2 Kibana 安装（默认端口号5601）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-3-elasticsearch%E9%85%8D%E5%90%88mysql%E5%AE%9E%E7%8E%B0%E5%85%A8%E6%96%87%E6%90%9C%E7%B4%A2\"><span class=\"toc-text\">1.3 elasticsearch配合mysql实现全文搜索</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3-1-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85logstash\"><span class=\"toc-text\">1.3.1 下载安装logstash</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3-2-%E4%B8%8B%E8%BD%BDmysql%E9%A9%B1%E5%8A%A8\"><span class=\"toc-text\">1.3.2 下载mysql驱动</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3-3%E6%96%B0%E5%BB%BA%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">1.3.3新建添加配置文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E6%96%B0%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-mysqltoes-conf\"><span class=\"toc-text\">1. 新建配置文件 mysqltoes.conf</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2\"><span class=\"toc-text\">2.</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E5%90%AF%E5%8A%A8logstash-%EF%BC%88-logstash-f-mysqltoes-conf-%EF%BC%89\"><span class=\"toc-text\">3. 启动logstash （ logstash -f mysqltoes.conf ）</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81Elasticsearch%E9%A1%B9%E7%9B%AEwindows%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C\"><span class=\"toc-text\">2、Elasticsearch项目windows服务注册</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1-Elasticsearch-%E6%B3%A8%E5%86%8C%E6%9C%8D%E5%8A%A1%E5%91%BD%E4%BB%A4%EF%BC%9Aservice-install-Elasticsearch\"><span class=\"toc-text\">2.1 Elasticsearch 注册服务命令：service install Elasticsearch</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-kibana-%E6%B3%A8%E5%86%8C%E6%9C%8D%E5%8A%A1%E5%91%BD%E4%BB%A4%EF%BC%9Anssm-exe-install-kibana-bat\"><span class=\"toc-text\">2.2 kibana 注册服务命令：nssm.exe install kibana.bat</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-3-logtash-%E6%B3%A8%E5%86%8C%E6%9C%8D%E5%8A%A1%E5%91%BD%E4%BB%A4%EF%BC%9Anssm-exe-install-logstash-%E2%80%9C-logstash-bin-logstash-bat%E2%80%9D-%E2%80%9Cagent-f-logstash-bin-mysqltoes-conf%E2%80%9D\"><span class=\"toc-text\">2.3 logtash 注册服务命令：nssm.exe install logstash “ logstash\\bin\\logstash.bat” “agent -f logstash\\bin\\mysqltoes.conf”</span></a></li></ol></li></ol></li></ol>","author":{"name":"云の博客","slug":"blog-author","avatar":"/images/headImg.jpg","link":"/","description":"逆水行舟，不进则退","socials":{"github":"https://github.com/wangwengang","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/6235839578","zhihu":"https://www.zhihu.com/people/wang-wen-gang-88","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/bilibili.png","link":"https://space.bilibili.com/300075036?spm_id_from=333.1007.0.0"},"yuque":{"icon":"/images/yuque.png","link":"https://www.yuque.com/dashboard"},"youdaoyun":{"icon":"/images/youdaoyun.png","link":"https://note.youdao.com/web/#/file/recent/markdown/4B759CCEDB274B9B80BDAE364F584C9F/"},"email":{"icon":"/images/qq.png","link":"https://mail.qq.com/cgi-bin/frame_html?sid=7tWo2bVJUQoIWRJ2&r=fcc05bd806b6e9cb755f4c2f3c41763d&lang=zh"},"163邮箱":{"icon":"/images/163.png","link":"https://mail.163.com/js6/main.jsp?sid=XDgrOFUiTMnRnvpgWmiiQvyDkcaqoolS&df=email163#module=welcome.WelcomeModule%7C%7B%7D"}}}},"mapped":true,"prev_post":{"title":"批处理使用命令","uid":"58ea37fede9aed6ff7e0b612983be198","slug":"bat","date":"2020-10-10T02:13:36.000Z","updated":"2023-03-04T14:26:42.757Z","comments":true,"path":"api/articles/bat.json","keywords":null,"cover":null,"text":"批处理使用命令 批处理命令简介 echo rem pause call start goto set 批处理常用命令总结 批处理符号简介 回显屏蔽 @ 重定向1 &gt;与&gt;&gt; 重定向2 &lt; 管道符号 | 转义符 ^ 逻辑命令符包括：&amp;、&amp;&am...","link":"","photos":[],"count_time":{"symbolsCount":"12k","symbolsTime":"11 mins."},"categories":[{"name":"windows","slug":"windows","count":1,"path":"api/categories/windows.json"}],"tags":[{"name":"脚本","slug":"脚本","count":2,"path":"api/tags/脚本.json"}],"author":{"name":"云の博客","slug":"blog-author","avatar":"/images/headImg.jpg","link":"/","description":"逆水行舟，不进则退","socials":{"github":"https://github.com/wangwengang","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/6235839578","zhihu":"https://www.zhihu.com/people/wang-wen-gang-88","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/bilibili.png","link":"https://space.bilibili.com/300075036?spm_id_from=333.1007.0.0"},"yuque":{"icon":"/images/yuque.png","link":"https://www.yuque.com/dashboard"},"youdaoyun":{"icon":"/images/youdaoyun.png","link":"https://note.youdao.com/web/#/file/recent/markdown/4B759CCEDB274B9B80BDAE364F584C9F/"},"email":{"icon":"/images/qq.png","link":"https://mail.qq.com/cgi-bin/frame_html?sid=7tWo2bVJUQoIWRJ2&r=fcc05bd806b6e9cb755f4c2f3c41763d&lang=zh"},"163邮箱":{"icon":"/images/163.png","link":"https://mail.163.com/js6/main.jsp?sid=XDgrOFUiTMnRnvpgWmiiQvyDkcaqoolS&df=email163#module=welcome.WelcomeModule%7C%7B%7D"}}}},"feature":true},"next_post":{"title":"SpringCloud","uid":"2fdfe1e1ace8a4912a23a4cbc1c92824","slug":"springcloud","date":"2019-01-14T11:38:48.000Z","updated":"2023-03-04T15:34:00.672Z","comments":true,"path":"api/articles/springcloud.json","keywords":null,"cover":null,"text":"SpringCloud微服务 关于微服务 SpringCloud和SpringBoot的关系SpringBoot专注于方便快速的开发单个个体的微服务 SpringCloud关注全局的微服务协调治理框架，它将SpringBoot开发的一个个单体微服务整合并管理起来，为各个微服务之间...","link":"","photos":[],"count_time":{"symbolsCount":887,"symbolsTime":"1 mins."},"categories":[{"name":"java","slug":"java","count":3,"path":"api/categories/java.json"}],"tags":[{"name":"Spring","slug":"Spring","count":2,"path":"api/tags/Spring.json"},{"name":"SpringCloud","slug":"SpringCloud","count":1,"path":"api/tags/SpringCloud.json"}],"author":{"name":"云の博客","slug":"blog-author","avatar":"/images/headImg.jpg","link":"/","description":"逆水行舟，不进则退","socials":{"github":"https://github.com/wangwengang","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/6235839578","zhihu":"https://www.zhihu.com/people/wang-wen-gang-88","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/bilibili.png","link":"https://space.bilibili.com/300075036?spm_id_from=333.1007.0.0"},"yuque":{"icon":"/images/yuque.png","link":"https://www.yuque.com/dashboard"},"youdaoyun":{"icon":"/images/youdaoyun.png","link":"https://note.youdao.com/web/#/file/recent/markdown/4B759CCEDB274B9B80BDAE364F584C9F/"},"email":{"icon":"/images/qq.png","link":"https://mail.qq.com/cgi-bin/frame_html?sid=7tWo2bVJUQoIWRJ2&r=fcc05bd806b6e9cb755f4c2f3c41763d&lang=zh"},"163邮箱":{"icon":"/images/163.png","link":"https://mail.163.com/js6/main.jsp?sid=XDgrOFUiTMnRnvpgWmiiQvyDkcaqoolS&df=email163#module=welcome.WelcomeModule%7C%7B%7D"}}}}}}